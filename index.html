<!DOCTYPE html>
<!-- 
This file for github pages
see https://labneurocogdevel.github.io/cardtask
-->
<html>
  <head>
    <meta charset="UTF-8">
    <title>Fabulious Fruits</title>
    <!-- all of this also in ./templates/exp.html -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/js/jspsych/css/jspsych.css" type="text/css" />
    <link rel="stylesheet" href="static/css/style.css" type="text/css" />
    <link rel="stylesheet" href="static/css/task.css" type="text/css" />
    <script src="static/lib/jquery-3.4.1.min.js" type="text/javascript"> </script>
    <script src="static/lib/underscore-min.js" type="text/javascript"> </script>
    <script src="static/lib/backbone-min.js" type="text/javascript"> </script>
    <script src="static/lib/d3.v3.min.js" type="text/javascript"> </script>
    <script src="static/js/jspsych/jspsych.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-instructions.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-html-keyboard-response.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-text.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-multi-choice.js" type="text/javascript"></script>
    <script src="static/js/utils.js" type="text/javascript"> </script>
    <script src="static/js/task.js" type="text/javascript"> </script>

    <script type="text/javascript">

var FRTS = fruits();

var boxes = [mkBox(FRTS['apple'],   FRTS['kiwi'],      "Left",  [1,2]),
	     mkBox(FRTS['grape'],   FRTS['lemon'],     "Right", [2,3]),
	     mkBox(FRTS['bananas'], FRTS['coconut'],   "Right", [3,4]),
	     mkBox(FRTS['melon'],   FRTS['cherries'],  "Left",  [4,5]),
	     mkBox(FRTS['orange'],  FRTS['pineapple'], "Left",  [5,6]),
	     mkBox(FRTS['pear'],    FRTS['strawberry'],"Right", [1,6])];

var stim1 = mkBoxTrial(boxes[0]);
var stim2 = mkBoxTrial(boxes[1]);
var fbk = mkTrainFbk();
var OD1 = mkODTrial(FRTS['lemon'], FRTS['kiwi']);
var OD2 = mkODTrial(FRTS['kiwi'], FRTS['lemon']);

var soa = [mkSOAgrid(Object.values(FRTS), 1, "Outcome")];
var dd  = [mkSOAgrid(Object.values(FRTS), 1, "Stim")];

fullTL=[stim1, fbk, stim2, fbk, OD1, OD2];
trainTL=[stim1, fbk, stim2, fbk];
ODTL=[OD1, OD2];
function trials(timeline){
  jsPsych.init({timeline: timeline,
		display_element: jsp,
		on_finish: function() {
		    trials(timeline)}});
}

function init(){ trials(fullTL); }
    </script>

  </head>

  <body onload="init()">
    <div> links:
      <a href="https://github.com/LabNeuroCogDevel/slipstask"> repo</a> |
      <a href="https://sliplncd.herokuapp.com/"> heroku (DNE!)</a>
    </div>
    <div> trials:
      <a href="#" onclick="trials(fullTL)"> fulltrial</a> |
      <a href="#" onclick="trials(trainTL)"> Train</a> |
      <a href="#" onclick="trials(ODTL)"> OD</a> |
      <a href="#" onclick="trials(soa)"> SOA</a> |
      <a href="#" onclick="trials(dd)"> DD</a> |
    </div>
    <br><br>
    <div>
      <div id="jsp"> </div>
    </div>
  </body>
</html>
