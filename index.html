<!DOCTYPE html>
<!-- 
This file for github pages
see https://labneurocogdevel.github.io/cardtask
-->
<html>
  <head>
    <meta charset="UTF-8">
    <title>Fabulious Fruits</title>
    <!-- all of this also in ./templates/exp.html -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/js/jspsych/css/jspsych.css" type="text/css" />
    <link rel="stylesheet" href="static/css/style.css" type="text/css" />
    <link rel="stylesheet" href="static/css/task.css" type="text/css" />
    <script src="static/lib/jquery-3.4.1.min.js" type="text/javascript"> </script>
    <script src="static/lib/underscore-min.js" type="text/javascript"> </script>
    <script src="static/lib/backbone-min.js" type="text/javascript"> </script>
    <script src="static/lib/d3.v3.min.js" type="text/javascript"> </script>
    <script src="static/js/jspsych/jspsych.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-instructions.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-html-keyboard-response.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-text.js" type="text/javascript"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-multi-choice.js" type="text/javascript"></script>
    <script src="static/js/utils.js" type="text/javascript"> </script>
    <script src="static/js/task.js" type="text/javascript"> </script>

    <script type="text/javascript">

var frts = fruits();
console.log(frts)
console.log(frts['apple'])
console.log(frts['kiwi'])
var b = mkBox(frts['apple'], frts['kiwi'], "Left")
const LEFT_KEY = 37; const RIGHT_KEY = 39;   
var t = {
    type: 'html-keyboard-response',
    stimulus: b.S.render(false),
    choices: ['z','m'],
    //post_trial_gap: SCOREANIMATEDUR,
    //trial_duration: trialdur,
    prompt: "<p>left or right</p>",
    on_start: function(trial) {},
    on_load: function(trial) {},
    on_finish: function(data){}
}


function fulltrial() {
   //get_info, instructions
   jsPsych.init({timeline: [t], display_element: jsp,
                 // restart from the begining 
                 on_finish: function() {fulltrial()}
                });
}

function init(){ fulltrial(); }
    </script>

  </head>

  <body onload="init()">
    <div> links:
      <a href="https://github.com/LabNeuroCogDevel/sliptask"> repo</a> |
      <a href="https://sliplncd.herokuapp.com/"> heroku</a>
    </div>
    <div> trials:
      <a href="#" onclick="fulltrial()"> fulltrial</a> |
    </div>
    <br><br>
    <div>
      <div id="jsp"> </div>
    </div>
  </body>
</html>
